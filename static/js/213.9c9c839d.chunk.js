"use strict";(self.webpackChunkreact_app_template=self.webpackChunkreact_app_template||[]).push([[213],{213:function(t,e,r){r.r(e),r.d(e,{default:function(){return h}});var n,a=r(165),s=r(861),c=r(439),i=r(791),u=r(168),l=r(686).Z.div(n||(n=(0,u.Z)(["\n  display: flex;\n  gap: 50px;\n\n  .artist-info {\n    width: 300px;\n  }\n  .artist-albums {\n    width: 100%;\n  }\n  .artist-subtitle {\n    text-align: center;\n    margin-bottom: 20px;\n    text-transform: uppercase;\n  }\n\n  .artist-discr {\n    font-size: 20px;\n    text-transform: capitalize;\n  }\n\n  .albums-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n  }\n  .album-item {\n    width: calc((100% - 30px) / 4);\n  }\n"]))),o=r(184),p=function(t){var e=t.artist,r=e["life-span"],n=r.begin,a=r.ended;e.genres;var s=e.genres.length>0?e.genres.reduce((function(t,e){return"rock"===e.name||"metal"===e.name||t.count>e.count?t:e})):"Genre unknown",c=e["release-groups"]?e["release-groups"].filter((function(t){return 0===t["secondary-types"].length})):[];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:"page-title",children:e.name}),(0,o.jsxs)(l,{children:[(0,o.jsxs)("div",{className:"artist-info",children:[(0,o.jsx)("h3",{className:"artist-subtitle",children:"Artist info"}),e.name&&(0,o.jsxs)("p",{className:"artist-discr",children:["Name: ",e.name]}),e.area?(0,o.jsxs)("p",{className:"artist-discr",children:["Country: ",e.area.name]}):"Country unknown",(0,o.jsxs)("p",{className:"artist-discr",children:["Years: ",n||"No date",a?"- ".concat(a):n?" - present days":""]}),s&&(0,o.jsxs)("p",{className:"artist-discr",children:["Genre: ",s.name]})]}),(0,o.jsxs)("div",{className:"artist-albums",children:[(0,o.jsx)("h3",{className:"artist-subtitle",children:"Artist discography"}),c.length>0?(0,o.jsx)("ul",{className:"albums-list",children:c.map((function(t){var e="http://coverartarchive.org/release-group/".concat(t.id,"/front-250");return(0,o.jsxs)("li",{className:"album-item",children:[(0,o.jsx)("img",{className:"album-cover",src:e,alt:t.title,width:"250"}),(0,o.jsx)("p",{className:"artist-discr",children:t.title}),(0,o.jsx)("p",{className:"artist-discr",children:t["first-release-date"]})]},t.id)}))}):(0,o.jsx)("p",{className:"artist-discr",children:"No discography yet"})]})]})]})},f=r(919),m=r(689),d=r(390),h=function(){var t=(0,m.UO)().artistId,e=(0,i.useState)(null),r=(0,c.Z)(e,2),n=r[0],u=r[1];return(0,i.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.fT)(t);case 3:r=e.sent,u(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f.Notify.failure(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,o.jsx)(o.Fragment,{children:n&&(0,o.jsx)(p,{artist:n})})}},390:function(t,e,r){r.d(e,{RK:function(){return l},fT:function(){return u},n6:function(){return i}});var n=r(165),a=r(861),s=r(919),c=r(243),i=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("http://musicbrainz.org/ws/2/artist/?query=artist:".concat(e,"%20AND%20tag:metal&fmt=json"));case 3:return r=t.sent,a=r.data,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(0),s.Notify.failure(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("http://musicbrainz.org/ws/2/artist/".concat(e,"?inc=genres+release-groups&fmt=json"));case 3:return r=t.sent,a=r.data,console.log(a),t.abrupt("return",a);case 9:t.prev=9,t.t0=t.catch(0),s.Notify.failure(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e,r,a,i,u,l,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date,r=e.getFullYear(),a=e.getMonth().toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),u="".concat(r,"-").concat(a,"-").concat(i),t.prev=5,t.next=8,c.Z.get('http://musicbrainz.org/ws/2/release-group/?query=tag:("power metal"+OR+"heavy metal")%20AND%20primarytype:album%20AND%20firstreleasedate:['.concat(u," TO *]&fmt=json"));case 8:return l=t.sent,o=l.data,console.log("api: ",o),t.abrupt("return",o);case 14:t.prev=14,t.t0=t.catch(5),s.Notify.failure(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=213.9c9c839d.chunk.js.map